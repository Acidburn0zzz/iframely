# Link Attributes in Iframely JSON

`links`  in [Iframely API](http://iframely.com/docs) is the list of objects with fields `rel`, `href`, `type` and `media`. 

Just like you would expect a `<link>` in `<html>` `<head>` of the page to be.

Example of a link object:

	{
		"href": "//coub.com/embed/2pc24rpb", 	-- SRC of embed. The main attribute
		"rel": ["player", “autoplay”, “html5”],
		"type": "text/html”,								-- MIME type. Tells: “embed as iFrame”
		"media": {												-- Media query. Mostly responsive
			"aspect-ratio": 1.777778
		}
	 } 

At times, Iframely will return `html` attribute instead of `href`. For example, for Twitter and Facebook Statuses, or elsewhere with very specific  embed codes.

## Functional Rels

`rel` object contains an array of functional and technical use cases. You’ll need to decide which link with `rel` which better works for the functionality of your app.

Possible primary rels: 

- `player` - widget with media playback. Like video or music or slideshow players;
- `thumbnail` - the preview image, usually smaller size;
- `image` - sizeable photo or picture, indicating that this is the main content on the web page. For use in e.g. photo albums "details" page;
- `app` - general extract for an app. For example, Twitter statuses, Facebook posts, Instagrams, etc;
- `reader` - text or graphical widget intended for reader functionality (e.g. article). 
- `survey` - the widget is a questionnaire;
- `file` - downloadable file. We return this rel for all direct links to files, including image files;
- `icon` - attribution favicon or glyph;
- `logo` - logo the source site. Is returned mostly for pages with the news article (custom ones) for better attribution.

## Technical Rels

Iframely also uses supplementary `rels` as the way to suggest technical aspects of the media:

- `autoplay` - if player starts media playback on its load;
- `html5` - if player is capable of HTML5 playback and will render ok on devices without Flash installed (for example, iOS);
- `inline` - for `app` indicates that embed widgets can be dynamically added to the page via JavaScript (e.g. doesn’t use `document.write`). Usually goes along with `html` field instead of `href` and indicates that html should be used as `srcset`of an `<iframe>` (as substitute to `href` as `src`). 

Usually these technical rels are available through our [Domains QA DB whitelist](http://iframely.com/qa). For example, GitHub Gists were not `inline` the last time we checked :\

### MIME Types

MIME `type` defines a suggested method to render link as widget.

MIME type is an expected HTTP response `content-type` header of a resource behind `href` of a link. Type of content defines the rendering method.

There are following `type`s at the moment:

 - `text/html` - widget needs to be rendered as `<iframe>`.
 - `application/javascript` - JavaScript widget with dynamic page embedding with as `<script>`.
 - `application/x-shockwave-flash` - Flash widget, we suggest to render with `<iframe>`.
 - `video/mp4` - HTML5 video. Will be rendered with as `<video>`.
 - `image` and `image/*` - this is image which will be rendered with as `<img>`. 


## Sizes in Media Query

`media` section is for media query. Iframely generates query’s attributes as well as puts it into usable JSON.

Iframely outputs the following `media` query attributes at the moment:

 - `aspect-ratio` - our favourite. Available only if **width** and **height** not present
 - `max-width`
 - `min-height`
 - `min-width`
 - `max-height`
 - `width`
 - `height`

For example, for `image` rel, Iframely will output exact sizes as `width` and `height` in `media` object.

## How to render Responsive Widget

You can use [iframely.js](http://iframely.com/docs/iframelyjs) lib that goes with our open-source page to both communicate with Iframely and render responsive widgets.

[API’s oEmbed format](http://iframely.com/docs/api) will provide `HTML` field for you with the code already generated by the server. 

If you’d like to generate a responsive embed code yourself, please refer to 

- ["Responsive embeds"](http://amobil.se/2011/11/responsive-embeds/) by [Anders M. Andersen](https://twitter.com/andmag) / 2011
- [Creating Intrinsic Ratios for Video](http://alistapart.com/article/creating-intrinsic-ratios-for-video) by [Thierry Koblentz](https://twitter.com/thierrykoblentz) / 2009

